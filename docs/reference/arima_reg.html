<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>General Interface for ARIMA Regression Models — arima_reg • modeltime</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="General Interface for ARIMA Regression Models — arima_reg" />
<meta property="og:description" content="arima_reg() is a way to generate a specification of an ARIMA model
before fitting and allows the model to be created using
different packages. Currently the only package is forecast." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modeltime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting-started-with-modeltime.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Forecasting</li>
    <li>
      <a href="../articles/getting-started-with-modeltime.html">Getting Started with Modeltime</a>
    </li>
    <li>
      <a href="../articles/recursive-forecasting.html">Autoregressive Forecasting (Recursive)</a>
    </li>
    <li>
      <a href="../articles/parallel-processing.html">Hyperparameter Tuning &amp; Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/modeling-panel-data.html">Forecasting Panel Data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Nested Forecasting</li>
    <li>
      <a href="../articles/nested-forecasting.html">Getting Started with Nested Forecasting</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Algorithms</li>
    <li>
      <a href="../articles/modeltime-model-list.html">Modeltime Algorithm Roadmap</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Developers</li>
    <li>
      <a href="../articles/extending-modeltime.html">Extending Modeltime (Developer Tools)</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    API
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">API Functions</li>
    <li>
      <a href="../reference/index.html">
        <span class="fa fa-home"></span>
         
        Function Reference
      </a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Change History</li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Ecosystem
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Forecast</li>
    <li>
      <a href="https://business-science.github.io/modeltime/">Modeltime (Forecasting)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/timetk/">TimeTK (Time Series Analysis)</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Improve</li>
    <li>
      <a href="https://business-science.github.io/modeltime.ensemble/">Modeltime Ensemble (Blending Forecasts)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/modeltime.resample/">Modeltime Resample (Backtesting)</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Scale</li>
    <li>
      <a href="https://business-science.github.io/modeltime.h2o/">Modeltime H2O (AutoML)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/modeltime.gluonts/">Modeltime GluonTS (Deep Learning)</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://university.business-science.io/p/ds4b-203-r-high-performance-time-series-forecasting/">
    <span class="fas fa-graduation-cap"></span>
     
    Learn
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/modeltime">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>General Interface for ARIMA Regression Models</h1>
    <small class="dont-index">Source: <a href='https://github.com/business-science/modeltime/blob/master/R/parsnip-arima_reg.R'><code>R/parsnip-arima_reg.R</code></a></small>
    <div class="hidden name"><code>arima_reg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>arima_reg()</code> is a way to generate a <em>specification</em> of an ARIMA model
before fitting and allows the model to be created using
different packages. Currently the only package is <code>forecast</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>arima_reg</span><span class='op'>(</span>
  mode <span class='op'>=</span> <span class='st'>"regression"</span>,
  seasonal_period <span class='op'>=</span> <span class='cn'>NULL</span>,
  non_seasonal_ar <span class='op'>=</span> <span class='cn'>NULL</span>,
  non_seasonal_differences <span class='op'>=</span> <span class='cn'>NULL</span>,
  non_seasonal_ma <span class='op'>=</span> <span class='cn'>NULL</span>,
  seasonal_ar <span class='op'>=</span> <span class='cn'>NULL</span>,
  seasonal_differences <span class='op'>=</span> <span class='cn'>NULL</span>,
  seasonal_ma <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mode</th>
      <td><p>A single character string for the type of model.
The only possible value for this model is "regression".</p></td>
    </tr>
    <tr>
      <th>seasonal_period</th>
      <td><p>A seasonal frequency. Uses "auto" by default.
A character phrase of "auto" or time-based phrase of "2 weeks"
can be used if a date or date-time variable is provided.
See Fit Details below.</p></td>
    </tr>
    <tr>
      <th>non_seasonal_ar</th>
      <td><p>The order of the non-seasonal auto-regressive (AR) terms. Often denoted "p" in pdq-notation.</p></td>
    </tr>
    <tr>
      <th>non_seasonal_differences</th>
      <td><p>The order of integration for non-seasonal differencing. Often denoted "d" in pdq-notation.</p></td>
    </tr>
    <tr>
      <th>non_seasonal_ma</th>
      <td><p>The order of the non-seasonal moving average (MA) terms. Often denoted "q" in pdq-notation.</p></td>
    </tr>
    <tr>
      <th>seasonal_ar</th>
      <td><p>The order of the seasonal auto-regressive (SAR) terms. Often denoted "P" in PDQ-notation.</p></td>
    </tr>
    <tr>
      <th>seasonal_differences</th>
      <td><p>The order of integration for seasonal differencing. Often denoted "D" in PDQ-notation.</p></td>
    </tr>
    <tr>
      <th>seasonal_ma</th>
      <td><p>The order of the seasonal moving average (SMA) terms. Often denoted "Q" in PDQ-notation.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The data given to the function are not saved and are only used
to determine the <em>mode</em> of the model. For <code>arima_reg()</code>, the
mode will always be "regression".</p>
<p>The model can be created using the <code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code> function using the
following <em>engines</em>:</p><ul>
<li><p>"auto_arima" (default) - Connects to <code><a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>forecast::auto.arima()</a></code></p></li>
<li><p>"arima" - Connects to <code><a href='https://pkg.robjhyndman.com/forecast/reference/Arima.html'>forecast::Arima()</a></code></p></li>
</ul>

<p><strong>Main Arguments</strong></p>
<p>The main arguments (tuning parameters) for the model are:</p><ul>
<li><p><code>seasonal_period</code>: The periodic nature of the seasonality. Uses "auto" by default.</p></li>
<li><p><code>non_seasonal_ar</code>: The order of the non-seasonal auto-regressive (AR) terms.</p></li>
<li><p><code>non_seasonal_differences</code>: The order of integration for non-seasonal differencing.</p></li>
<li><p><code>non_seasonal_ma</code>: The order of the non-seasonal moving average (MA) terms.</p></li>
<li><p><code>seasonal_ar</code>: The order of the seasonal auto-regressive (SAR) terms.</p></li>
<li><p><code>seasonal_differences</code>: The order of integration for seasonal differencing.</p></li>
<li><p><code>seasonal_ma</code>: The order of the seasonal moving average (SMA) terms.</p></li>
</ul>

<p>These arguments are converted to their specific names at the
time that the model is fit.</p>
<p>Other options and argument can be
set using <code><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine()</a></code> (See Engine Details below).</p>
<p>If parameters need to be modified, <code><a href='https://rdrr.io/r/stats/update.html'>update()</a></code> can be used
in lieu of recreating the object from scratch.</p>
    <h2 class="hasAnchor" id="engine-details"><a class="anchor" href="#engine-details"></a>Engine Details</h2>

    


<p>The standardized parameter names in <code>modeltime</code> can be mapped to their original
names in each engine:</p><table class='table'>
<tr><td>modeltime</td><td>forecast::auto.arima</td><td>forecast::Arima</td></tr>
<tr><td>seasonal_period</td><td>ts(frequency)</td><td>ts(frequency)</td></tr>
<tr><td>non_seasonal_ar, non_seasonal_differences, non_seasonal_ma</td><td>max.p(5), max.d(2), max.q(5)</td><td>order = c(p(0), d(0), q(0))</td></tr>
<tr><td>seasonal_ar, seasonal_differences, seasonal_ma</td><td>max.P(2), max.D(1), max.Q(2)</td><td>seasonal = c(P(0), D(0), Q(0))</td></tr>
</table>



<p>Other options can be set using <code><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine()</a></code>.</p>
<p><strong>auto_arima (default engine)</strong></p>
<p>The engine uses <code><a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>forecast::auto.arima()</a></code>.</p>
<p>Function Parameters:</p><pre><span class='co'>## function (y, d = NA, D = NA, max.p = 5, max.q = 5, max.P = 2, max.Q = 2, </span>
<span class='co'>##     max.order = 5, max.d = 2, max.D = 1, start.p = 2, start.q = 2, start.P = 1, </span>
<span class='co'>##     start.Q = 1, stationary = FALSE, seasonal = TRUE, ic = c("aicc", "aic", </span>
<span class='co'>##         "bic"), stepwise = TRUE, nmodels = 94, trace = FALSE, approximation = (length(x) &gt; </span>
<span class='co'>##         150 | frequency(x) &gt; 12), method = NULL, truncate = NULL, xreg = NULL, </span>
<span class='co'>##     test = c("kpss", "adf", "pp"), test.args = list(), seasonal.test = c("seas", </span>
<span class='co'>##         "ocsb", "hegy", "ch"), seasonal.test.args = list(), allowdrift = TRUE, </span>
<span class='co'>##     allowmean = TRUE, lambda = NULL, biasadj = FALSE, parallel = FALSE, </span>
<span class='co'>##     num.cores = 2, x = y, ...)</span>
</pre>

<p>The <em>MAXIMUM</em> nonseasonal ARIMA terms (<code>max.p</code>, <code>max.d</code>, <code>max.q</code>) and
seasonal ARIMA terms (<code>max.P</code>, <code>max.D</code>, <code>max.Q</code>) are provided to
<code><a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>forecast::auto.arima()</a></code> via <code>arima_reg()</code> parameters.
Other options and argument can be set using <code><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine()</a></code>.</p>
<p>Parameter Notes:</p><ul>
<li><p>All values of nonseasonal pdq and seasonal PDQ are maximums.
The <code><a href='https://pkg.robjhyndman.com/forecast/reference/auto.arima.html'>forecast::auto.arima()</a></code> model will select a value using these as an upper limit.</p></li>
<li><p><code>xreg</code> - This is supplied via the parsnip / modeltime <code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code> interface
(so don't provide this manually). See Fit Details (below).</p></li>
</ul>

<p><strong>arima</strong></p>
<p>The engine uses <code><a href='https://pkg.robjhyndman.com/forecast/reference/Arima.html'>forecast::Arima()</a></code>.</p>
<p>Function Parameters:</p><pre><span class='co'>## function (y, order = c(0, 0, 0), seasonal = c(0, 0, 0), xreg = NULL, include.mean = TRUE, </span>
<span class='co'>##     include.drift = FALSE, include.constant, lambda = model$lambda, biasadj = FALSE, </span>
<span class='co'>##     method = c("CSS-ML", "ML", "CSS"), model = NULL, x = y, ...)</span>
</pre>

<p>The nonseasonal ARIMA terms (<code>order</code>) and seasonal ARIMA terms (<code>seasonal</code>)
are provided to <code><a href='https://pkg.robjhyndman.com/forecast/reference/Arima.html'>forecast::Arima()</a></code> via <code>arima_reg()</code> parameters.
Other options and argument can be set using <code><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine()</a></code>.</p>
<p>Parameter Notes:</p><ul>
<li><p><code>xreg</code> - This is supplied via the parsnip / modeltime <code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code> interface
(so don't provide this manually). See Fit Details (below).</p></li>
<li><p><code>method</code> - The default is set to "ML" (Maximum Likelihood).
This method is more robust at the expense of speed and possible
selections may fail unit root inversion testing. Alternatively, you can add <code>method = "CSS-ML"</code> to
evaluate Conditional Sum of Squares for starting values, then Maximium Likelihood.</p></li>
</ul>

    <h2 class="hasAnchor" id="fit-details"><a class="anchor" href="#fit-details"></a>Fit Details</h2>

    


<p><strong>Date and Date-Time Variable</strong></p>
<p>It's a requirement to have a date or date-time variable as a predictor.
The <code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code> interface accepts date and date-time features and handles them internally.</p><ul>
<li><p><code><a href='https://generics.r-lib.org/reference/fit.html'>fit(y ~ date)</a></code></p></li>
</ul>

<p><em>Seasonal Period Specification</em></p>
<p>The period can be non-seasonal (<code>seasonal_period = 1 or "none"</code>) or
yearly seasonal (e.g. For monthly time stamps, <code>seasonal_period = 12</code>, <code>seasonal_period = "12 months"</code>, or <code>seasonal_period = "yearly"</code>).
There are 3 ways to specify:</p><ol>
<li><p><code>seasonal_period = "auto"</code>: A seasonal period is selected based on the periodicity of the data (e.g. 12 if monthly)</p></li>
<li><p><code>seasonal_period = 12</code>: A numeric frequency. For example, 12 is common for monthly data</p></li>
<li><p><code>seasonal_period = "1 year"</code>: A time-based phrase. For example, "1 year" would convert to 12 for monthly data.</p></li>
</ol>

<p><strong>Univariate (No xregs, Exogenous Regressors):</strong></p>
<p>For univariate analysis, you must include a date or date-time feature. Simply use:</p><ul>
<li><p>Formula Interface (recommended): <code><a href='https://generics.r-lib.org/reference/fit.html'>fit(y ~ date)</a></code> will ignore xreg's.</p></li>
<li><p>XY Interface: <code><a href='https://generics.r-lib.org/reference/fit_xy.html'>fit_xy(x = data[,"date"], y = data$y)</a></code> will ignore xreg's.</p></li>
</ul>

<p><strong>Multivariate (xregs, Exogenous Regressors)</strong></p>
<p>The <code>xreg</code> parameter is populated using the <code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code> or <code><a href='https://generics.r-lib.org/reference/fit_xy.html'>fit_xy()</a></code> function:</p><ul>
<li><p>Only <code>factor</code>, <code>ordered factor</code>, and <code>numeric</code> data will be used as xregs.</p></li>
<li><p>Date and Date-time variables are not used as xregs</p></li>
<li><p><code>character</code> data should be converted to factor.</p></li>
</ul>

<p><em>Xreg Example:</em> Suppose you have 3 features:</p><ol>
<li><p><code>y</code> (target)</p></li>
<li><p><code>date</code> (time stamp),</p></li>
<li><p><code>month.lbl</code> (labeled month as a ordered factor).</p></li>
</ol>

<p>The <code>month.lbl</code> is an exogenous regressor that can be passed to the <code>arima_reg()</code> using
<code><a href='https://generics.r-lib.org/reference/fit.html'>fit()</a></code>:</p><ul>
<li><p><code><a href='https://generics.r-lib.org/reference/fit.html'>fit(y ~ date + month.lbl)</a></code> will pass <code>month.lbl</code> on as an exogenous regressor.</p></li>
<li><p><code><a href='https://generics.r-lib.org/reference/fit_xy.html'>fit_xy(data[,c("date", "month.lbl")], y = data$y)</a></code> will pass x, where x is a data frame containing <code>month.lbl</code>
and the <code>date</code> feature. Only <code>month.lbl</code> will be used as an exogenous regressor.</p></li>
</ul>

<p>Note that date or date-time class values are excluded from <code>xreg</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://parsnip.tidymodels.org/reference/fit.html'>fit.model_spec()</a></code>, <code><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://parsnip.tidymodels.org'>parsnip</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rsample.tidymodels.org'>rsample</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/business-science/timetk'>timetk</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/business-science/modeltime'>modeltime</a></span><span class='op'>)</span>

<span class='co'># Data</span>
<span class='va'>m750</span> <span class='op'>&lt;-</span> <span class='va'>m4_monthly</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>id</span> <span class='op'>==</span> <span class='st'>"M750"</span><span class='op'>)</span>
<span class='va'>m750</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 306 × 3</span>
#&gt;    id    date       value
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;fct&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> M750  1990-01-01  <span style='text-decoration: underline;'>6</span>370
#&gt; <span style='color: #BCBCBC;'> 2</span> M750  1990-02-01  <span style='text-decoration: underline;'>6</span>430
#&gt; <span style='color: #BCBCBC;'> 3</span> M750  1990-03-01  <span style='text-decoration: underline;'>6</span>520
#&gt; <span style='color: #BCBCBC;'> 4</span> M750  1990-04-01  <span style='text-decoration: underline;'>6</span>580
#&gt; <span style='color: #BCBCBC;'> 5</span> M750  1990-05-01  <span style='text-decoration: underline;'>6</span>620
#&gt; <span style='color: #BCBCBC;'> 6</span> M750  1990-06-01  <span style='text-decoration: underline;'>6</span>690
#&gt; <span style='color: #BCBCBC;'> 7</span> M750  1990-07-01  <span style='text-decoration: underline;'>6</span>000
#&gt; <span style='color: #BCBCBC;'> 8</span> M750  1990-08-01  <span style='text-decoration: underline;'>5</span>450
#&gt; <span style='color: #BCBCBC;'> 9</span> M750  1990-09-01  <span style='text-decoration: underline;'>6</span>480
#&gt; <span style='color: #BCBCBC;'>10</span> M750  1990-10-01  <span style='text-decoration: underline;'>6</span>820
#&gt; <span style='color: #949494;'># … with 296 more rows</span></div><div class='input'>
<span class='co'># Split Data 80/20</span>
<span class='va'>splits</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rsample.tidymodels.org/reference/initial_split.html'>initial_time_split</a></span><span class='op'>(</span><span class='va'>m750</span>, prop <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span>

<span class='co'># ---- AUTO ARIMA ----</span>

<span class='co'># Model Spec</span>
<span class='va'>model_spec</span> <span class='op'>&lt;-</span> <span class='fu'>arima_reg</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine</a></span><span class='op'>(</span><span class='st'>"auto_arima"</span><span class='op'>)</span>

<span class='co'># Fit Spec</span>
<span class='va'>model_fit</span> <span class='op'>&lt;-</span> <span class='va'>model_spec</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://generics.r-lib.org/reference/fit.html'>fit</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>date</span>, data <span class='op'>=</span> <span class='fu'><a href='https://rsample.tidymodels.org/reference/initial_split.html'>training</a></span><span class='op'>(</span><span class='va'>splits</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>frequency = 12 observations per 1 year</span></div><div class='input'><span class='va'>model_fit</span>
</div><div class='output co'>#&gt; parsnip model object
#&gt; 
#&gt; Fit time:  340ms 
#&gt; Series: outcome 
#&gt; ARIMA(0,1,1)(1,1,1)[12] 
#&gt; 
#&gt; Coefficients:
#&gt;           ma1    sar1     sma1
#&gt;       -0.3591  0.2034  -0.7114
#&gt; s.e.   0.0702  0.1166   0.0970
#&gt; 
#&gt; sigma^2 estimated as 0.0003485:  log likelihood=592.09
#&gt; AIC=-1176.17   AICc=-1176   BIC=-1162.4</div><div class='input'>

<span class='co'># ---- STANDARD ARIMA ----</span>

<span class='co'># Model Spec</span>
<span class='va'>model_spec</span> <span class='op'>&lt;-</span> <span class='fu'>arima_reg</span><span class='op'>(</span>
        seasonal_period          <span class='op'>=</span> <span class='fl'>12</span>,
        non_seasonal_ar          <span class='op'>=</span> <span class='fl'>3</span>,
        non_seasonal_differences <span class='op'>=</span> <span class='fl'>1</span>,
        non_seasonal_ma          <span class='op'>=</span> <span class='fl'>3</span>,
        seasonal_ar              <span class='op'>=</span> <span class='fl'>1</span>,
        seasonal_differences     <span class='op'>=</span> <span class='fl'>0</span>,
        seasonal_ma              <span class='op'>=</span> <span class='fl'>1</span>
    <span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://parsnip.tidymodels.org/reference/set_engine.html'>set_engine</a></span><span class='op'>(</span><span class='st'>"arima"</span><span class='op'>)</span>

<span class='co'># Fit Spec</span>
<span class='va'>model_fit</span> <span class='op'>&lt;-</span> <span class='va'>model_spec</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://generics.r-lib.org/reference/fit.html'>fit</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>date</span>, data <span class='op'>=</span> <span class='fu'><a href='https://rsample.tidymodels.org/reference/initial_split.html'>training</a></span><span class='op'>(</span><span class='va'>splits</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>model_fit</span>
</div><div class='output co'>#&gt; parsnip model object
#&gt; 
#&gt; Fit time:  542ms 
#&gt; Series: outcome 
#&gt; ARIMA(3,1,3)(1,0,1)[12] 
#&gt; 
#&gt; Coefficients:
#&gt;          ar1     ar2      ar3      ma1      ma2     ma3    sar1     sma1
#&gt;       0.2258  0.2542  -0.2801  -0.5205  -0.2663  0.2491  0.9846  -0.5381
#&gt; s.e.  0.6883  0.4581   0.2378   0.6994   0.4192  0.3959  0.0077   0.0751
#&gt; 
#&gt; sigma^2 estimated as 0.0003465:  log likelihood=613.46
#&gt; AIC=-1208.91   AICc=-1208.14   BIC=-1177.48</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


